(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-294d4a5a"],{"419f":function(t,e,n){},"454b":function(t,e,n){"use strict";var r=n("419f"),a=n.n(r);a.a},ecf2:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d3-container"},[n("el-container",[n("div",{staticClass:"tree-svg",attrs:{id:"treeId"}})])],1)},a=[],i=(n("7f7f"),n("ac6a"),n("5698")),c=i["default"].svg.diagonal().projection(function(t){return[t.y,t.x]}),o=function(t,e){var n=t.source,r=t.target,a=(r.y-n.y)/4;return t.isRight&&(a=-a),"M"+n.y+","+n.x+"H"+(n.y+a)+"V"+r.x+"H"+r.y};c=o;var l="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1605864539721&di=85e3635cbcd0edeaf91aa1ef22d6adb2&imgtype=0&src=http%3A%2F%2Fhbimg.b0.upaiyun.com%2Fc6b92a1e6e65dac26bea2f8bf9c8773b706caac417503-AQGZB7_fw658",s={name:"d3-tree",components:{},computed:{},data:function(){return{root:{name:"flare",size:"1",image:l,children:[{name:"AAA",size:"11",image:l},{name:"BBB",size:"12",image:l}]},tree:null,zm:null,height:750,count:0,duration:1800,label_pos:120,node_distance:200,root_pos:{x:80,y:350}}},created:function(){var t=this,e=i["default"].layout.tree().nodeSize([60,60]);t.tree=e},mounted:function(){var t=this,e=i["default"].select("#treeId").append("svg").attr("width",960).attr("height",650).call(t.zm=i["default"].behavior.zoom().scaleExtent([1,3]).on("zoom",function(t){e.attr("transform","translate("+i["default"].event.translate+")")})).append("g").attr("transform","translate("+t.root_pos.x+","+t.root_pos.y+")");t.zm.translate([t.root_pos.x,t.root_pos.y]),t.svg=e,t.root.x0=t.height/2,t.root.y0=0,t.root.children.forEach(this.collapsed),t.update(t.root)},methods:{collapsed:function(t){t.children&&(t._children=t.children,t._children.forEach(this.collapsed),t.children=null)},cp_collapsed:function(t,e){if(t.children)if(e._children&&!e.children){t._children=t.children;for(var n=0;n<t._children.length;n++)this.cp_collapsed(t._children[n],e._children[n]);t.children=null}else if(!e._children&&e.children){for(n=0;n<t.children.length;n++)this.cp_collapsed(t.children[n],e.children[n]);t._children=null}},update:function(t){var e=this,n=e.tree.nodes(e.root).reverse(),r=e.tree.links(n);n.forEach(function(t){t.y=t.depth*e.node_distance});var a=e.svg.selectAll("g.node").data(n,function(t){return t.id||(t.id=++e.count)}),o=a.enter().append("g").attr("class","node").attr("transform",function(e){return"translate("+t.y0+","+t.x0+")"}).on("click",function(t){return e.click(t)});o.append("image").attr("xlink:href",function(t){return t.image}).attr("x",function(t){return t.children||t._children,-25}).attr("y",-50),o.append("text").attr("x",function(t){return console.log("当前加入的 节点的信息为: ",t),t.children||t._children,-20}).attr("y","15").attr("font-size","10px").text(function(t){return t.name}).style("fill-opacity",1),o.append("text").attr("x",function(t){return console.log("当前加入的 节点的信息为: ",t),t.children||t._children,-e.label_pos}).attr("y","0").attr("font-size","10px").text(function(t){return"Label"+t.name}).style("fill-opacity",1),o.append(function(){var t=document.createElement("div");return t.innerHTML="插入的 div",t});var l=a.transition().duration(e.duration).attr("transform",function(t){return"translate("+t.y+","+t.x+")"});l.selectAll("image").attr("width",50).attr("height",50),l.select("text").style("fill-opcity",1);var s=a.exit().transition().duration(e.duration).attr("transform",function(e){return"translate("+t.y+","+t.x+")"}).remove();s.select("image").attr("width",0).attr("height",0),s.select("text").style("fill-opacity",1e-6);var d=e.svg.selectAll("path.link").data(r,function(t){return t.target.id});d.enter().insert("svg:path","g").attr("class","link").attr("fill","none").attr("stroke","#ccc").attr("stroke-width","2").attr("d",function(e){console.log("边连线绘制接收到的数据: ",e);var n={x:t.x0,y:t.y0};return c({source:n,target:n})}).attr("id",function(t,e){var n="mypath"+t.target.id;return console.log("插入的边的id为: ",n,t),"mypath"+t.target.id}).on("mouseover",function(t){i["default"].select(this).style("stroke","orange")}).on("mouseout",function(t){i["default"].select(this).style("stroke","#ccc")}),d.transition().duration(e.duration).attr("d",c),d.exit().transition().duration(e.duration).attr("d",function(e){var n={x:t.x,y:t.y};return c({source:n,target:n})}).remove(),n.forEach(function(t){t.x0=t.x,t.y0=t.y})},click:function(t){var e=this;if(t.children)t._children=t.children,t.children=null;else if(t._children)t.children=t._children,t._children=null;else{var n=e.getNode(t.size);t.children=n}e.update(t)},getNode:function(t){var e=[],n="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1605864539721&di=85e3635cbcd0edeaf91aa1ef22d6adb2&imgtype=0&src=http%3A%2F%2Fhbimg.b0.upaiyun.com%2Fc6b92a1e6e65dac26bea2f8bf9c8773b706caac417503-AQGZB7_fw658";return e="11"===t?[{name:"AAA01",image:n,size:"111"},{name:"AAA02",image:n,size:"112"},{name:"AAA03",image:n,size:"113"}]:"12"===t?[{name:"BBB01",image:n,size:"121"},{name:"BBB02",image:n,size:"122"},{name:"BBB03",image:n,size:"123"}]:[{name:"DDD",image:n,size:"131"},{name:"EEE",image:n,size:"132"},{name:"FFF",image:n,size:"133"}],e}}},d=s,u=(n("454b"),n("2877")),h=Object(u["a"])(d,r,a,!1,null,null,null);e["default"]=h.exports}}]);