(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-26e05a30"],{"2e88":function(t,n,e){"use strict";var i=e("f098"),o=e.n(i);o.a},"531e":function(t,n,e){"use strict";e.r(n);var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"test-intent-container"},[e("span",{on:{click:t.openDialog}},[e("i",{staticClass:"iconfont icon-local",staticStyle:{"font-size":"25px"}})]),e("el-dialog",{attrs:{title:"意图列表",visible:t.showDialog,width:"70%",modal:!1,"before-close":t.handleClose},on:{"update:visible":function(n){t.showDialog=n}}},[e("intent-list",{attrs:{botId:t.botId,userId:t.userId}})],1)],1)},o=[],s=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"intent-list-container"},[e("el-row",{staticStyle:{"margin-bottom":"20px"}},[e("el-col",{attrs:{span:10}},[e("el-input",{staticClass:"input-with-search",attrs:{placeholder:"输入查询意图名称",size:"small"},model:{value:t.searchIntentName,callback:function(n){t.searchIntentName=n},expression:"searchIntentName"}},[e("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.handleIntentSearch},slot:"append"})],1)],1),e("el-col",{attrs:{span:14}},[e("el-button-group",{staticStyle:{float:"right","margin-right":"30px"}},[e("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(n){return t.addIntentInfo()}}},[t._v("新建意图")])],1)],1)],1),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"max-height":"400px",height:"400px","header-cell-style":{background:"#eef1f6",color:"#606266"}}},[e("el-table-column",{attrs:{prop:"intentName",label:"意图名称",width:"130"}}),e("el-table-column",{attrs:{prop:"queryList",label:"用户话术"},scopedSlots:t._u([{key:"default",fn:function(n){return t._l(n.row.queryList,function(n,i){return e("p",{key:i},[t._v("\n                    "+t._s(n)+"\n                ")])})}}])}),e("el-table-column",{attrs:{prop:"slot",label:"槽位",width:"150"},scopedSlots:t._u([{key:"default",fn:function(n){return t._l(n.row.slotNames,function(n,i){return e("p",{key:i},[t._v("\n                    "+t._s(n)+"\n                ")])})}}])}),e("el-table-column",{attrs:{prop:"",label:"操作",width:"120"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("i",{on:{click:function(e){return t.editIntentInfo(n.$index)}}},[t._v("编辑")]),e("el-divider",{attrs:{direction:"vertical"}}),e("i",{on:{click:function(e){return t.deleteIntent(n.$index)}}},[t._v("删除")])]}}])})],1),e("el-dialog",{attrs:{title:"编辑意图",visible:t.showEditDialog,width:"85%","before-close":t.handleEditDialogClose,"append-to-body":""},on:{"update:visible":function(n){t.showEditDialog=n}}},[e("intent-info",{directives:[{name:"show",rawName:"v-show",value:void 0!==t.curIntentInfo,expression:"curIntentInfo !== undefined"}],ref:"intentInfo",attrs:{userId:t.userId,botId:t.botId,intentInfo:t.curIntentInfo,intentIndex:t.curIntentIndex},on:{updateIntent:t.handleIntentInfoChange,cancelIntent:t.handleCancel}})],1)],1)},a=[],l=(e("6b54"),e("a481"),e("cebc")),r=e("2f62"),u=e("6a3b"),c=(e("2ef0"),{name:"intent-list",components:{intentInfo:u["a"]},computed:Object(l["a"])({},Object(r["b"])("nlu",["intentInfoList"])),props:{botId:{type:String,default:"",require:!0},userId:{type:String,default:"",require:!0}},data:function(){return{showEditDialog:!1,searchIntentName:"",tableData:[],curIntentInfo:{},curIntentIndex:-1}},methods:{UUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=16*Math.random()|0,e="x"==t?n:3&n|8;return e.toString(16)})},loadIntentList:function(t,n){var e={userId:this.userId,botId:this.botId};this.$store.dispatch("nlu/loadIntentList",e)},init_tableData:function(){return this.intentInfoList.map(function(t){return{intentName:t.intentName,queryList:t.queryLst.map(function(t){return t.query}),slotNames:t.slotInfoLst.map(function(t){return t.slotName})}})},editIntentInfo:function(t){var n=this;console.log("打开编辑框， 传入的索引为: "+t+"传入的intentInfo:"+this.intentInfoList[t]),this.showEditDialog=!0,this.curIntentInfo=this.intentInfoList[t],this.curIntentIndex=t,this.$nextTick(function(){n.$refs.intentInfo.heighlightAll()})},addIntentInfo:function(){this.showEditDialog=!0,this.curIntentInfo=void 0,this.curIntentInfo={intentName:"",intentId:"intent_"+this.UUID(),userId:this.userId,botId:this.botId,queryLst:[],slotInfoLst:[],regLst:[{regContent:"",isStrictMatch:!1}]},this.curIntentIndex=this.intentInfoList.length},handleEditDialogClose:function(){this.showEditDialog=!1,this.curIntentInfo=void 0,this.curIntentInfo={intentName:"",intentId:"",userId:this.userId,botId:this.botId,queryLst:[],slotInfoLst:[],regLst:[]},this.curIntentIndex=-1},deleteIntent:function(t){var n=this,e=this;e.$confirm("将要删除当前意图, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.$store.dispatch("nlu/delIntentInfo",n.intentInfoList[t]),n.tableData=n.init_tableData(),n.$emit("deleteIntenEvent",t),e.$message({type:"success",message:"当前意图成功删除"})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},handleIntentInfoChange:function(t){console.log("intent idx: "+this.curIntentIndex),this.tableData=this.init_tableData(),this.showEditDialog=!1,this.curIntentInfo=void 0,this.curIntentInfo={intentName:"",intentId:"",userId:this.userId,botId:this.botId,queryLst:[],slotInfoLst:[],regLst:[]},this.curIntentIndex=-1},handleCancel:function(){this.showEditDialog=!1,this.curIntentInfo=void 0,this.curIntentInfo={intentName:"",intentId:"",userId:this.userId,botId:this.botId,queryLst:[],slotInfoLst:[],regLst:[]},this.curIntentIndex=-1},handleIntentSearch:function(){}},watch:{intentInfoList:{handler:function(t,n){this.tableData=this.init_tableData()},deep:!0}},mounted:function(){this.loadIntentList(),this.tableData=this.init_tableData()}}),d=c,I=(e("2e88"),e("2877")),h=Object(I["a"])(d,s,a,!1,null,null,null),f=h.exports,p={name:"intent_test",components:{intentList:f},props:{botId:{type:String,default:"",require:!0},userId:{type:String,default:"",require:!0}},data:function(){return{showDialog:!1}},methods:{openDialog:function(){this.showDialog=!0},handleClose:function(){this.showDialog=!1}}},b=p,x=(e("64a6"),Object(I["a"])(b,i,o,!1,null,null,null));n["default"]=x.exports},"64a6":function(t,n,e){"use strict";var i=e("71a8"),o=e.n(i);o.a},"71a8":function(t,n,e){},f098:function(t,n,e){}}]);